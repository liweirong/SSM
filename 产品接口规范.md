彩虹系统接口资源定义
---
# 前言：

	    为保证Restful API接口的一致性，完整，规范性。特编写此文档，用于规范Restful API接口中，一些请求、返回结果的资源名称。
	

 **请求类型约定**
 
•	GET（SELECT）：从服务器取出资源
•	POST（CREATE）：在服务器新建一个资源
•	PUT（UPDATE）：在服务器更新资源
•	DELETE（DELETE）：从服务器删除资源


## 一 url请求资源名称范围约定
示例：https://127.0.0.1/user/topLogin

### 1.1一级资源路径范围约定
一级资源路径名称由模块划分取得，具体为以下几个资源名称:
* /user				    	（注：用户模块）
* /permission				（注：权限模块）
* /globalConfig			    （注：全局配置模块）
* /logConfig				（注：日志管理模块）
* /admin                    （注：后台管理模块）

### 1.2二级资源路径范围约定
二级资源路径名称由功能确定，具体规范为以下几个方面：
由请求类型决定具体操作，二级请求资源名都一致。

1. database.do					（注：数据库配置增删查改）
2. activityStatus				（注：活动状态）
3. performanceIndex			    （注：性能指标）
4. blockActivity				（注：阻塞活动）
5. activeTransaction			（注：活跃事务）
6. awrReport			     	（注：AWR报告）
……
以下其他二级资源路径名，由数据库表名决定

注：二级资源路径不可包含动词比如添加的add，删除的delete。
**案例**：规则管理功能，如果在编写接口，那针对规格管理的增、删、改查都使用rules作为二级资源路径名。
      那么问题来了，资源路径名都一样，请求怎么区分呢？使用请求类型来区分。
      如添加请求的二级资源为rules，和删除请求的二级资源名同为rules，但是两者的请求类型不相同，添加是POST，删除是DELETE，
      所以不同担心请求混乱的问题。其他的接口同上述一样。

## 二 请求参数约定
1.	参数名称由数据库表、字段确定
2.	命名以小驼峰为规范
3.	所需要传递的参数由业务逻辑决定

## 三 请求返回数据约定
1. 返回结果以JSON格式为准
2. 返回参数由数据库字段确定
3. 命名以小驼峰为规范

## 四 公共约定
1.	所有返回结果中需要有code值，表示当前请求的结果。code由整数表示，code对应表如下：（后续如有添加，请在下方依次追加）

|数值|表达内容|
|---|
| -1|请求失败|
| 0 |请求成功|
|101|添加请求失败|
|102|删除请求失败|
|103|修改请求失败|




